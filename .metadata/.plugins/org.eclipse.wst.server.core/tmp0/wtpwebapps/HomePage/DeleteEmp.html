<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<title>Delete Employee</title>
	<style>
		.msg h4{
			color:red;
		}
		.msg h3{
			color:green;
		}
		#logout {
			position: absolute;
			right: 30px;
			top: 2px;
		}
	</style>
</head>

<body>
	<ul class="nav nav-tabs">
		<li class="nav-item">
			<a class="nav-link active" href="Home.html">Home</a>
		</li>
		<li class="nav-item">
			<a class="nav-link" href="AboutUs.html">About Us</a>
		</li>
		<li class="nav-item">
			<a class="nav-link disabled" href="Registration.html">Registration</a>
		</li>
		<li class="nav-item">
			<a href="http://localhost:1080/logout"><button class="btn btn-danger" id="logout">Logout</button></a>
		</li>
	</ul>
	<div class="alert alert-danger" role="alert">
		<h4 class="alert-heading">Deleting Employe...</h4>
		<p>TO Confirm The deletion of the Employee Data.<br>Type the Employee Id Below</p>
		<hr>
		<div class="input-group mb-3">
			<div class="input-group-prepend">
				<span class="input-group-text" id="inputGroup-sizing-default">Employee Id</span>
			</div>
			<input type="text" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" id="Del_id">
		</div>
		<button type="submit" class="btn btn-outline-danger" onclick="del()">Delete</button>
	</div>
	<div class="msg" id="msg"></div>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
		integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>
	<script>
    
		function del(){
			var id = document.getElementById("Del_id").value;
			var xhr = new XMLHttpRequest();
            xhr.open("GET", 'http://shwetank:8091/emp/del/'+id, true);

            xhr.onload = function () {
                if (xhr.status == 202) {
                   document.getElementById("msg").innerHTML = "<h3>Employee Deleted Successfully<h3>";
                } else {
                    document.getElementById("msg").innerHTML = "<h4>Employee Failed to be Deleted. Kindly REFRESH and REnter the id or Go Back</h4>";
                }
            };

            xhr.send();

		}
		
	</script>
</body>

</html>